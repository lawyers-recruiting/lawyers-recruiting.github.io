(this["webpackJsonplowyers-import"]=this["webpackJsonplowyers-import"]||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(6),o=r.n(c),i=r(9),s=r(4),l=r(7),u=r(8),d=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],b={Alabama:{code:"AL"},Alaska:{code:"AK"},Arizona:{code:"AZ"},Arkansas:{code:"AR"},California:{code:"CA"},Colorado:{code:"CO"},Connecticut:{code:"CT"},Delaware:{code:"DE"},"District of Columbia":{code:"DC"},Florida:{code:"FL"},Georgia:{code:"GA"},Hawaii:{code:"HI"},Idaho:{code:"ID"},Illinois:{code:"IL"},Indiana:{code:"IN"},Iowa:{code:"IA"},Kansas:{code:"KS"},Kentucky:{code:"KY"},Louisiana:{code:"LA"},Maine:{code:"ME"},Maryland:{code:"MD"},Massachusetts:{code:"MA"},Michigan:{code:"MI"},Minnesota:{code:"MN"},Mississippi:{code:"MS"},Missouri:{code:"MO"},Montana:{code:"MT"},Nebraska:{code:"NE"},Nevada:{code:"NV"},"New Hampshire":{code:"NH"},"New Jersey":{code:"NJ"},"New Mexico":{code:"NM"},"New York":{code:"NY"},"North Carolina":{code:"NC"},"North Dakota":{code:"ND"},Ohio:{code:"OH"},Oklahoma:{code:"OK"},Oregon:{code:"OR"},Pennsylvania:{code:"PA"},"Rhode Island":{code:"RI"},"South Carolina":{code:"SC"},"South Dakota":{code:"SD"},Tennessee:{code:"TN"},Texas:{code:"TX"},Utah:{code:"UT"},Vermont:{code:"VT"},Virginia:{code:"VA"},Washington:{code:"WA"},"West Virginia":{code:"WV"},Wisconsin:{code:"WI"},Wyoming:{code:"WY"}},f=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"age",value:function(e){var t=Number(e);return!!Number.isInteger(t)&&!(t<21)}},{key:"experience",value:function(e,t){var r=Number(e);return!!Number.isInteger(r)&&!(r<0||r>Number(t)-21)}},{key:"yearlyIncome",value:function(e){return!isNaN(e)&&!(e<0||e>1e6)}},{key:"licenseStates",value:function(e){for(var t=e.split("|"),r=0;r<t.length;r++)if(-1===d.indexOf(t[r]))return!1;return!0}},{key:"expirationDate",value:function(e){if(!/^20[2-9][1-9]-(0[1-9]|1[0-2])-([0-2][0-9]|3[0-1])$/.test(e)&&!/^(0[1-9]|1[0-2])\/([0-2][0-9]|3[0-1])\/20[2-9][1-9]$/.test(e))return!1;var t=new Date;return!(Date.parse(e)<t)}},{key:"phone",value:function(e){return!!/^(1|\+1)?\d{10}$/.test(e)}},{key:"hasChildren",value:function(e){return"true"===e.toLowerCase()||"false"===e.toLowerCase()||""===e.toLowerCase()}},{key:"licenseNumber",value:function(e){return!!/^[0-9A-Za-z]{6}$/.test(e)}}]),e}(),m=r(0),h=function(e){var t=e.lawyerData,r=e.columnKeys,n=function(e){switch(e.toLowerCase()){case"phone":return f.phone(t[e])?"ok":"error";case"age":return f.age(t[e])?"ok":"error";case"experience":return f.experience(t[e],t.Age)?"ok":"error";case"yearly income":return f.yearlyIncome(t[e])?"ok":"error";case"has children":return f.hasChildren(t[e])?"ok":"error";case"license states":return f.licenseStates(t[e])?"ok":"error";case"expiration date":return f.expirationDate(t[e])?"ok":"error";case"license number":return f.licenseNumber(t[e])?"ok":"error";case"duplicate":return t.Duplicate?"ok":"error";default:return""}},a=function(e){switch(e.toLowerCase()){case"phone":return t[e].replace(/^(1|\+1)?(\d{10})$/,(function(e,t,r){return"+1"+r}));case"yearly income":return Number(t[e]).toFixed(2);default:return t[e]}};return Object(m.jsx)("tr",{children:r.map((function(e){return Object(m.jsx)("td",{className:n(e),children:a(e)})}))})},j=function(e){var t=e.lawyers,r=e.keys;return Object(m.jsx)("div",{className:"lawyers-table-wrap",children:t.length>0&&Object(m.jsxs)("table",{className:"lawyers-table table table-striped",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:r.map((function(e){return Object(m.jsx)("th",{scope:"col",children:e})}))})}),Object(m.jsx)("tbody",{children:t.map((function(e){return Object(m.jsx)(h,{lawyerData:e,columnKeys:r},e.License_number)}))})]})})},N=function(e){var t=e.blockStyle,r=e.text,n="info-block card card-body ".concat(t);return Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("div",{className:n,children:r})})})},O=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],u=o[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),h=f[0],O=f[1],p=function(e){var t=e.split(/\r?\n|\r/),r=[],n=t.shift().split(",");if(!y(n))return O("File format is not correct"),!1;for(var c=0;c<t.length;c++){var o=t[c].split(",");r[c]={ID:c+1};for(var s=0;s<o.length;s++){var l=n[s];r[c][l]="License_states"===l?x(o[s].trim()):o[s].trim()}}r.map((function(e){var t=r.find((function(t){return(t.Email.toLowerCase()===e.Email.toLowerCase()||t.Phone===e.Phone)&&t.ID!==e.ID}));return e.Duplicate=void 0===t?"":t.ID,e})),a(r),u(["ID"].concat(Object(i.a)(n),["Duplicate"]))},x=function(e){return e.split("|").map((function(e){return void 0===b[e]?e:b[e].code})).join("|")},y=function(e){var t=e.map((function(e){return e.toLowerCase()}));return-1!==t.indexOf("full name")&&-1!==t.indexOf("phone")&&-1!==t.indexOf("email")};return Object(m.jsx)("main",{className:"main",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"text-center mb-3",children:"Lawyers List"}),Object(m.jsxs)("form",{action:"",className:"d-flex justify-content-end mb-3",children:[Object(m.jsx)("input",{type:"file",name:"list",id:"list",className:"d-none",onChange:function(e){var t=e.target.files[0];if(t)if("csv"===t.name.split(".").pop()){O(null);var r=new FileReader;r.readAsText(t),r.onload=function(){p(r.result)}}else O("File format is not correct")}}),Object(m.jsx)("label",{htmlFor:"list",className:"btn btn-success",children:"Import users"})]}),h?Object(m.jsx)(N,{blockStyle:"text-center error",text:h}):r.length>0?Object(m.jsx)(j,{lawyers:r,keys:l}):Object(m.jsx)(N,{blockStyle:"text-center info",text:"Please, upload your file"})]})})};r(15);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.d20c4998.chunk.js.map